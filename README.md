# XiMultiLogin

XiMultiLogin æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Minecraft æ’ä»¶ï¼Œæ”¯æŒå¤šç§è®¤è¯æ–¹å¼ï¼Œä¸ºæœåŠ¡å™¨æä¾›æ›´çµæ´»çš„ç©å®¶ç™»å½•éªŒè¯æœºåˆ¶ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### å¤šè®¤è¯æ–¹å¼æ”¯æŒ
- **Mojang å®˜æ–¹è®¤è¯**ï¼šæ ‡å‡† Minecraft è´¦æˆ·ç™»å½•
- **LittleSkin è®¤è¯**ï¼šæ”¯æŒ LittleSkin çš®è‚¤ç«™è´¦æˆ·
- **è‡ªå®šä¹‰ Yggdrasil è®¤è¯**ï¼šå¯é…ç½®å…¶ä»– Yggdrasil åè®®çš„çš®è‚¤ç«™

### å®‰å…¨ç‰¹æ€§
- **èº«ä»½é”å®šæœºåˆ¶**ï¼šé˜²æ­¢"åŒåä¸åŒ UUID"çš„å®‰å…¨é—®é¢˜
- **å¤šç‰ˆæœ¬å…¼å®¹**ï¼šæ”¯æŒå¤šä¸ª Minecraft ç‰ˆæœ¬
- **è¿æ¥è¶…æ—¶ä¿æŠ¤**ï¼šHTTP è¿æ¥ 3ç§’è¶…æ—¶ï¼Œè¯»å– 5ç§’è¶…æ—¶

### æ•°æ®åº“æ”¯æŒ
- **é»˜è®¤ SQLite**ï¼šå¼€ç®±å³ç”¨ï¼Œæ— éœ€é¢å¤–é…ç½®
- **æ”¯æŒ MySQL**ï¼šå¯é…ç½®ä½¿ç”¨ MySQL æ•°æ®åº“æé«˜æ€§èƒ½
- **è¿æ¥æ± ä¼˜åŒ–**ï¼šä½¿ç”¨ HikariCP æä¾›ç¨³å®šçš„æ•°æ®åº“è¿æ¥

### æŠ€æœ¯ç‰¹æ€§
- **SOLID è®¾è®¡åŸåˆ™**ï¼šæ¨¡å—åŒ–æ¶æ„ï¼Œæ˜“äºæ‰©å±•
- **é«˜æ€§èƒ½**ï¼šä¼˜åŒ–çš„è®¤è¯æµç¨‹å’Œæ•°æ®åº“æ“ä½œ
- **å¯æµ‹è¯•æ€§**ï¼šæ”¯æŒå•å…ƒæµ‹è¯•ï¼Œç¡®ä¿ä»£ç è´¨é‡

## ğŸ“¦ å®‰è£…æ–¹æ³•

1. **ä¸‹è½½æ’ä»¶**
   - ä» GitHub Actions æ„å»ºæˆ–æ‰‹åŠ¨ç¼–è¯‘è·å– `XiMultiLogin-1.0.jar` æ–‡ä»¶

2. **å®‰è£…åˆ°æœåŠ¡å™¨**
   - å°† JAR æ–‡ä»¶æ”¾å…¥æœåŠ¡å™¨çš„ `plugins` ç›®å½•
   - é‡å¯æœåŠ¡å™¨

3. **é¦–æ¬¡å¯åŠ¨**
   - æ’ä»¶ä¼šè‡ªåŠ¨åˆ›å»ºé…ç½®æ–‡ä»¶å’Œæ•°æ®åº“
   - é»˜è®¤ä½¿ç”¨ SQLite æ•°æ®åº“ï¼Œæ— éœ€é¢å¤–é…ç½®

## âš™ï¸ é…ç½®è¯´æ˜

æ’ä»¶å¯åŠ¨åä¼šåœ¨ `plugins/XiMultiLogin` ç›®å½•ç”Ÿæˆé…ç½®æ–‡ä»¶ï¼š

### æ•°æ®åº“é…ç½®

```yaml
database:
  # æ•°æ®åº“ç±»å‹: sqlite æˆ– mysql
  type: sqlite
  
  # MySQL é…ç½®ï¼ˆä»…å½“ type ä¸º mysql æ—¶ç”Ÿæ•ˆï¼‰
  mysql:
    host: localhost
    port: 3306
    database: ximultilogin
    username: root
    password: ""
    poolSize: 10
```

### è®¤è¯æœåŠ¡å™¨é…ç½®

```yaml
auth:
  # è®¤è¯è¶…æ—¶è®¾ç½®ï¼ˆæ¯«ç§’ï¼‰
  timeout:
    connect: 3000
    read: 5000
  
  # è‡ªå®šä¹‰ Yggdrasil è®¤è¯æœåŠ¡å™¨
  yggdrasil:
    enabled: true
    url: "https://littleskin.cn/api/yggdrasil"
```

## ğŸ” æ”¯æŒçš„è®¤è¯æ–¹å¼

1. **Mojang å®˜æ–¹è®¤è¯**
   - æ ‡å‡† Minecraft è´¦æˆ·ç™»å½•
   - ä½¿ç”¨å®˜æ–¹ Mojang è®¤è¯æœåŠ¡å™¨

2. **LittleSkin è®¤è¯**
   - æ”¯æŒ LittleSkin çš®è‚¤ç«™è´¦æˆ·
   - è‡ªåŠ¨é€‚é… LittleSkin çš„ Yggdrasil æ¥å£

3. **è‡ªå®šä¹‰ Yggdrasil è®¤è¯**
   - å¯é…ç½®å…¶ä»–æ”¯æŒ Yggdrasil åè®®çš„çš®è‚¤ç«™
   - é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ `yggdrasil.url` å®ç°

## ğŸ—ƒï¸ æ•°æ®åº“è¯´æ˜

### SQLiteï¼ˆé»˜è®¤ï¼‰
- è‡ªåŠ¨åˆ›å»º `ximultilogin.db` æ–‡ä»¶
- é€‚åˆå°å‹æœåŠ¡å™¨
- æ— éœ€é¢å¤–é…ç½®

### MySQL
- éœ€è¦æ‰‹åŠ¨åˆ›å»ºæ•°æ®åº“
- é€‚åˆå¤§å‹æœåŠ¡å™¨æˆ–å¤šæœåŠ¡å™¨ç¯å¢ƒ
- æä¾›æ›´å¥½çš„å¹¶å‘æ€§èƒ½

## ğŸ“ ä½¿ç”¨æ–¹æ³•

### ç©å®¶ç™»å½•æµç¨‹
1. ç©å®¶å°è¯•åŠ å…¥æœåŠ¡å™¨
2. æ’ä»¶æŒ‰é¡ºåºå°è¯•ä¸åŒçš„è®¤è¯æ–¹å¼
3. æˆåŠŸè®¤è¯åï¼Œæ£€æŸ¥èº«ä»½é”å®šçŠ¶æ€
4. å®Œæˆç™»å½•ï¼Œåº”ç”¨çš®è‚¤å’Œæƒé™

### ç®¡ç†å‘˜å‘½ä»¤

| å‘½ä»¤ | æè¿° | æƒé™ |
|------|------|------|
| `/ximultilogin reload` | é‡æ–°åŠ è½½é…ç½® | `ximultilogin.admin` |
| `/ximultilogin info <player>` | æŸ¥çœ‹ç©å®¶è®¤è¯ä¿¡æ¯ | `ximultilogin.admin` |
| `/ximultilogin reset <player>` | é‡ç½®ç©å®¶èº«ä»½é”å®š | `ximultilogin.admin` |

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚
- Java 8 æˆ–æ›´é«˜ç‰ˆæœ¬
- Maven 3.6 æˆ–æ›´é«˜ç‰ˆæœ¬
- Git

### æ„å»ºé¡¹ç›®

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yourusername/XiMultiLogin.git
cd XiMultiLogin

# ç¼–è¯‘é¡¹ç›®ï¼ˆè·³è¿‡æµ‹è¯•ï¼‰
mvn package -DskipTests

# ç¼–è¯‘å¹¶è¿è¡Œæµ‹è¯•
mvn package
```

### é¡¹ç›®ç»“æ„

```
XiMultiLogin/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/java/com/leeinx/ximultilogin/
â”‚   â”‚   â”œâ”€â”€ XiMultiLogin.java          # ä¸»ç±»
â”‚   â”‚   â”œâ”€â”€ auth/                       # è®¤è¯ç›¸å…³
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthProvider.java       # è®¤è¯æä¾›è€…æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ YggdrasilAuthProvider.java # Yggdrasil è®¤è¯å®ç°
â”‚   â”‚   â”‚   â””â”€â”€ AuthPipeline.java       # è®¤è¯ç®¡é“
â”‚   â”‚   â”œâ”€â”€ database/                   # æ•°æ®åº“ç›¸å…³
â”‚   â”‚   â”‚   â”œâ”€â”€ DatabaseManager.java    # æ•°æ®åº“ç®¡ç†å™¨æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ SQLiteDatabaseManager.java # SQLite å®ç°
â”‚   â”‚   â”‚   â””â”€â”€ MySQLDatabaseManager.java  # MySQL å®ç°
â”‚   â”‚   â”œâ”€â”€ guard/                      # å®‰å…¨ç›¸å…³
â”‚   â”‚   â”‚   â””â”€â”€ IdentityGuard.java      # èº«ä»½é”å®šæœºåˆ¶
â”‚   â”‚   â”œâ”€â”€ inject/                     # æ³¨å…¥ç›¸å…³
â”‚   â”‚   â”‚   â”œâ”€â”€ LoginInjector.java      # ç™»å½•æ³¨å…¥å™¨
â”‚   â”‚   â”‚   â””â”€â”€ XiReflection.java       # åå°„å·¥å…·
â”‚   â”‚   â””â”€â”€ util/                       # å·¥å…·ç±»
â”‚   â””â”€â”€ test/                           # æµ‹è¯•ä»£ç 
â”œâ”€â”€ pom.xml                             # Maven é…ç½®
â”œâ”€â”€ plugin.yml                          # æ’ä»¶é…ç½®
â””â”€â”€ README.md                           # æœ¬æ–‡æ¡£
```

### æ‰©å±•è®¤è¯æ–¹å¼

1. **å®ç° AuthProvider æ¥å£**
2. **åœ¨ AuthPipeline ä¸­æ³¨å†Œæ–°çš„è®¤è¯æä¾›è€…**
3. **æ›´æ–°é…ç½®æ–‡ä»¶ä»¥æ”¯æŒæ–°çš„è®¤è¯æ–¹å¼**

## ğŸ”„ CI/CD é…ç½®

é¡¹ç›®ä½¿ç”¨ GitHub Actions è¿›è¡ŒæŒç»­é›†æˆï¼š

- **è§¦å‘æ¡ä»¶**ï¼šæ¨é€ä»£ç åˆ° main/master åˆ†æ”¯æˆ–åˆ›å»º Pull Request
- **æ„å»ºç¯å¢ƒ**ï¼šUbuntu Latest
- **JDK ç‰ˆæœ¬**ï¼šJava 8
- **æ„å»ºå‘½ä»¤**ï¼š`mvn package -DskipTests`
- **äº§ç‰©ä¸Šä¼ **ï¼šæ„å»ºåçš„ JAR æ–‡ä»¶ä¼šä½œä¸º artifact ä¸Šä¼ 

## ğŸ“‹ ç‰ˆæœ¬ä¿¡æ¯

### å½“å‰ç‰ˆæœ¬
- **ç‰ˆæœ¬å·**ï¼š1.0
- **å‘å¸ƒæ—¥æœŸ**ï¼š2026-02-03

### ç‰ˆæœ¬å†å²
- **v1.0**ï¼šåˆå§‹ç‰ˆæœ¬
  - æ”¯æŒ Mojang å’Œ LittleSkin è®¤è¯
  - SQLite å’Œ MySQL æ•°æ®åº“æ”¯æŒ
  - èº«ä»½é”å®šæœºåˆ¶
  - HikariCP è¿æ¥æ± 
  - å¤šç‰ˆæœ¬å…¼å®¹

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥å¸®åŠ©æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

### è´¡çŒ®æŒ‡å—
1. Fork ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦æƒ…è¯·å‚é˜… LICENSE æ–‡ä»¶

## ğŸ“ è”ç³»æ–¹å¼

- **ä½œè€…**ï¼šBernard Lee
- **é¡¹ç›®åœ°å€**ï¼šhttps://github.com/yourusername/XiMultiLogin

---

**äº«å—ä½¿ç”¨ XiMultiLoginï¼** ğŸ‰